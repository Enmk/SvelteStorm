<!DOCTYPE html>
<html>
    <head>
<button onclick="location.href='ComponentFormat.html'" type="button">
   Previous</button>
   <button onclick="location.href='MainMenu.html'" type="button">
    Main Menu</button>
    <button onclick="location.href='ComponentFormat.html'" type="button">
        Next</button>

    </head>
    <body>
        <h3 id="component-format-script">&#x3C;script></h3>
        <p>A <code>&#x3C;script></code> block contains JavaScript that runs when a component instance is
            created. Variables declared (or imported) at the top level are 'visible' from the component's
            markup. There are four additional rules:</p>
        <h4 id="component-format-script-1-export-creates-a-component-prop">1. <code>export</code> creates a
            component prop</h4>
        <div class="side-by-side">
            <div class="copy">
                <p>Svelte uses the <code>export</code> keyword to mark a variable declaration as a
                    <em>property</em> or <em>prop</em>, which means it becomes accessible to consumers of
                    the component (see the section on <a href="/docs#template-syntax-attributes-and-props"
                        rel="noopener noreferrer">attributes and props</a> for more information).</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">let</span> foo<span class="token punctuation">;</span>

<span class="token comment">// Values that are passed in as props</span>
<span class="token comment">// are immediately available</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>You can specify a default initial value for a prop. It will be used if the component's
                    consumer doesn't specify the prop on the component (or if its initial value is
                    <code>undefined</code>) when instantiating the component. Note that whenever a prop is
                    removed by the consumer, its value is set to <code>undefined</code> rather than the
                    initial value.</p>
                <p>In development mode (see the <a href="/docs#compile-time-svelte-compile"
                        rel="noopener noreferrer">compiler options</a>), a warning will be printed if no
                    default initial value is provided and the consumer does not specify a value. To squelch
                    this warning, ensure that a default initial value is specified, even if it is
                    <code>undefined</code>.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token string">'optional default initial value'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>If you export a <code>const</code>, <code>class</code> or <code>function</code>, it is
                    readonly from outside the component. Function <em>expressions</em> are valid props,
                    however.</p>
                <p>Readonly props can be accessed as properties on the element, tied to the component using
                    <a href="/docs#template-syntax-component-directives-bind-this"
                        rel="noopener noreferrer"><code>bind:this</code> syntax</a>.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// these are readonly</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> thisIs <span class="token operator">=</span> <span class="token string">'readonly'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// this is a prop</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> <span class="token function-variable function">format</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=></span> n<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>You can use reserved words as prop names.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> className<span class="token punctuation">;</span>

<span class="token comment">// creates a `class` property, even</span>
<span class="token comment">// though it is a reserved word</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> className <span class="token keyword">as</span> <span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <h4 id="component-format-script-2-assignments-are-reactive">2. Assignments are 'reactive'</h4>
        <div class="side-by-side">
            <div class="copy">
                <p>To change component state and trigger a re-render, just assign to a locally declared
                    variable.</p>
                <p>Update expressions (<code>count += 1</code>) and property assignments
                    (<code>obj.x = y</code>) have the same effect.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// calling this function will trigger an</span>
<span class="token comment">// update if the markup references `count`</span>
count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>Because Svelte's reactivity is based on assignments, using array methods like
                    <code>.push()</code> and <code>.splice()</code> won't automatically trigger updates. A
                    subsequent assignment is required to trigger the update. This and more details can also
                    be found in the <a href="/tutorial/updating-arrays-and-objects"
                        rel="noopener noreferrer">tutorial</a>.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// this method call does not trigger an update</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// this assignment will trigger an update</span>
<span class="token comment">// if the markup references `arr`</span>
arr <span class="token operator">=</span> arr
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <h4 id="component-format-script-3-$-marks-a-statement-as-reactive">3. <code>$:</code> marks a
            statement as reactive</h4>
        <div class="side-by-side">
            <div class="copy">
                <p>Any top-level statement (i.e. not inside a block or a function) can be made reactive by
                    prefixing it with the <code>$:</code> <a
                        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label"
                        target="_blank" rel="noopener noreferrer">JS label syntax</a>. Reactive statements
                    run immediately before the component updates, whenever the values that they depend on
                    have changed.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">let</span> title<span class="token punctuation">;</span>

<span class="token comment">// this will update `document.title` whenever</span>
<span class="token comment">// the `title` prop changes</span>
$<span class="token operator">:</span> document<span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>

$<span class="token operator">:</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">multiple statements can be combined</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">the current title is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>Only values which directly appear within the <code>$:</code> block will become
                    dependencies of the reactive statement. For example, in the code below
                    <code>total</code> will only update when <code>x</code> changes, but not <code>y</code>.
                </p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">yPlusAValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> value <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

$<span class="token operator">:</span> total <span class="token operator">=</span> <span class="token function">yPlusAValue</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

Total: <span class="token language-javascript"><span class="token punctuation">{</span>total<span class="token punctuation">}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token operator">++</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
Increment X
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> y<span class="token operator">++</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
Increment Y
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <div class="side-by-side">
            <div class="copy">
                <p>If a statement consists entirely of an assignment to an undeclared variable, Svelte will
                    inject a <code>let</code> declaration on your behalf.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">let</span> num<span class="token punctuation">;</span>

<span class="token comment">// we don't need to declare `squared` and `cubed`</span>
<span class="token comment">// — Svelte does it for us</span>
$<span class="token operator">:</span> squared <span class="token operator">=</span> num <span class="token operator">*</span> num<span class="token punctuation">;</span>
$<span class="token operator">:</span> cubed <span class="token operator">=</span> squared <span class="token operator">*</span> num<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
        <h4 id="component-format-script-4-prefix-stores-with-$-to-access-their-values">4. Prefix stores with
            <code>$</code> to access their values</h4>
        <div class="side-by-side">
            <div class="copy">
                <p>A <em>store</em> is an object that allows reactive access to a value via a simple
                    <em>store contract</em>. The <a href="/docs#run-time-svelte-store"
                        rel="noopener noreferrer"><code>svelte/store</code> module</a> contains minimal
                    store implementations which fulfil this contract.</p>
                <p>Any time you have a reference to a store, you can access its value inside a component by
                    prefixing it with the <code>$</code> character. This causes Svelte to declare the
                    prefixed variable, subscribe to the store at component initialization and unsubscribe
                    when appropriate.</p>
                <p>Assignments to <code>$</code>-prefixed variables require that the variable be a writable
                    store, and will result in a call to the store's <code>.set</code> method.</p>
                <p>Note that the store must be declared at the top level of the component — not inside an
                    <code>if</code> block or a function, for example.</p>
                <p>Local variables (that do not represent store values) must <em>not</em> have a
                    <code>$</code> prefix.</p>
            </div>
            <div class="code">
                <div class="code-block">
                    <pre
                        class='language-svelte'><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> writable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 0</span>

count<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 1</span>

$count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 2</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
                </div>
            </div>
        </div>
    </body>
</html>